#pragma once 

#include"stdafx.h"
#include"triple.h"
#include"Matrix.h"
#include"ComplexNum.h"

using namespace Algebra;

namespace consts
{
	//Вид уравнений движения
	enum  Variables { SODE_XV = 0, FODE_2D, FODE_3D, FODE_KS, FODE_SB, IZO_3D, IZO_KS, IZO_SB, FinDiff };
	const char* const Variables_strs[] = { "SODE XV", "FODE 2D", "FODE 3D", "FODE KS", "FODE SB", "IZO 3D", "IZO KS", "IZO SB","FinDiff" };
	const int Nmode = 4;
	//
	enum Mode { Propagation = 0, bw_fw_test, Adjust, Debug };
	const char* const Mode_strs[] = { "Propagation", "fw-bw test","Orbit fitting", "Debug" };
	//
	enum FitMode { LS = 0, batch_LS_filer, pure_Kalman, hybrid_Kalman, };
	const char* const FitMode_strs[] = { "Least Squares adjustment","Batch Least Squares filter", "Pure Kalman filter", "Hybrid Kalman filter", };
	//
	enum TypeOfObs { mDist = 0, mAstro, mAstro2, Astro };
	const char* const TypeOfObs_strs[] = { "mDist", "mAstro","mAstro2", "Astro" };
	//
	enum EarthFixFrame { IAU_EARTH = 0, ITRF93, ITRF2008 };
	char* const EarthFixedFrame_strs[] = { "IAU_EARTH", "ITRF93","ITRF2008" };
	
	enum TimeFormat { UTC_Calendar_format = 0, TDB_Seconds_past_J2000, TDB_Calendar_format, TT_Calendar_format };
	const char* const TimeFormat_strs[] = { "UTC (Calendar format)", "TDB (Seconds past J2000.0)","TDB (Calendar format)", "TT (Calendar format)" };
	
	enum TypeOfIC {  OrbitalElements=0, StateVector };
	const char* const TypeOfIC_strs[] = { "State Vector", "Orbital Elements" };

	enum FrameOfIC { Equator_and_Equinox_J2000 = 0, Ecliptic_and_Equinox_J2000 };
	const char* const FrameOfIC_strs[] = { "Equator and Equinox_J2000.0", "Ecliptic and Equinox J2000.0"
	};
	//
	const char * const et_F = " %24.16e";
	 const double	AU = 149597870.693;
	 const  double	SoL = 299792.458;
	//пи, радиан
	const double	pi = 3.1415926535897932384626433832795;
	const double	twopi = 6.283185307179586476925286766559;
	const double	rad = 57.295779513082320876798154814105;
	const double	rad2asec = 206264.806247096;
	const double	deg2rad = 0.01745329251994330;
	//радиус Земли
	const double	Re = 6378.137;

	//SRP-константы
	const double Ksrp = 4.5605e-6;
	const double Rsun = 695.500e3;

	//нулевые элементы
	const Algebra::triple			one(1.0, 1.0, 1.0);
	const triple			zero(0.0, 0.0, 0.0);
	const ComplexNum	Complex_zero(0.0, 0.0);
	//планетоцентрические гравитационные постоянные:
	 const double BODY10_GM = 132712440017.987,


BODY1_GM = 22032.08049039435,
BODY199_GM = 22032.08049039435,

BODY2_GM = 324858.6068371049,
BODY299_GM = 324858.6068371049,

BODY3_GM = 403503.2352694668,
BODY301_GM = 4902.801,
BODY399_GM = 398600.4415000,

BODY4_GM = 42828.31426579703,

BODY401_GM = 0.000716,
//Gravity.tpc
//BODY401_GM          =                85.22834344572990e-5 ,
//dlr
BODY402_GM = 0.0000983,
//Gravity.tpc
//BODY402_GM          =              0.0000985  ,
BODY499_GM = 42828.286588768897,

//BODY5_GM            =          126712767.8806649          ,
//dlr
BODY5_GM = 0.1267126e+9,
BODY501_GM = 5960.981613781674,
BODY502_GM = 3200.988724107317,
BODY503_GM = 9886.997387719448,
BODY504_GM = 7180.972962701350,
BODY505_GM = 5.067461470071345e-1,
BODY506_GM = 5.067461470071345e-1,
BODY507_GM = 3.800596102553509e-2,
BODY508_GM = 11.40178830766053e-3,
BODY509_GM = 3.800596102553508e-3,
BODY510_GM = 3.800596102553508e-3,
BODY511_GM = 6.334326837589181e-3,
BODY512_GM = 2.533730735035672e-3,
BODY513_GM = 2.533730735035672e-4,
BODY514_GM = 10.13492294014269e-2,
BODY515_GM = 8.868057572624853e-4,
BODY516_GM = 6.334326837589181e-3,
BODY599_GM = 126686536.75178400,

BODY6_GM = 37940604.37460744,
BODY601_GM = 2.465530579037799,
BODY602_GM = 7.965560332275966,
BODY603_GM = 41.15539505009249,
BODY604_GM = 72.06935538725874,
BODY605_GM = 154.0008330906687,
BODY606_GM = 8978.172706706628,
BODY607_GM = 1.896561983875230,
BODY608_GM = 105.8281587002378,
BODY609_GM = 9.103497522601104e-1,
BODY610_GM = 13.50352132519164e-2,
BODY611_GM = 37.51399604105205e-3,
BODY612_GM = 11.37937190325138e-4,
BODY613_GM = 3.793123967750460e-4,
BODY614_GM = 2.655186777425322e-4,
BODY615_GM = 11.37937190325138e-4,
BODY616_GM = 3.413811570975414e-2,
BODY617_GM = 22.75874380650276e-3,
BODY618_GM = 28.44842975812845e-5,
BODY699_GM = 37931239.677504600,

BODY7_GM = 5794549.008117694,
BODY701_GM = 90.38545171996032,
BODY702_GM = 78.21817937304257,
BODY703_GM = 235.2339320404095,
BODY704_GM = 201.0496906847835,
BODY705_GM = 4.397599862528838,
BODY706_GM = 11.58787842563594e-4,
BODY707_GM = 17.38181763845391e-4,
BODY708_GM = 4.635151370254375e-3,
BODY709_GM = 17.38181763845391e-3,
BODY710_GM = 11.58787842563594e-3,
BODY711_GM = 2.896969606408984e-2,
BODY712_GM = 6.952727055381562e-2,
BODY713_GM = 10.42909058307234e-3,
BODY714_GM = 17.38181763845391e-3,
BODY715_GM = 3.476363527690781e-1,
BODY799_GM = 5793939.2128179700,

BODY8_GM = 6836534.065205220,
BODY801_GM = 1427.920574621435,
BODY802_GM = 2.050529761076207,
BODY803_GM = 10.2526488053810e-3,
BODY804_GM = 2.734039681434943e-2,
BODY805_GM = 13.67019840717471e-2,
BODY806_GM = 20.50529761076207e-2,
BODY807_GM = 4.101059522152414e-1,
BODY808_GM = 4.101059522152414,
BODY899_GM = 6835099.2035873600,

BODY9_GM = 947.9460002995671,
BODY901_GM = 73.45707013391480,
BODY999_GM = 874.48893016565220,

//asteroids
BODY2000001_GM = 63.2,
BODY2000002_GM = 14.3,
BODY2000004_GM = 17.8;


	double ID2GM(int);
	long int id2fixfr(long int);
	//System::String^ id2name(int ID);
	//int name2id(System::String^);
	triple getR(int ID);
	double getW(int ID);
	//получить параметры планеты
	void getEllPar(int ID, double &Re, double &f, double &oz);

	//Разбиение Радо и Лобатто для метода Эверхарта
	const double spacing[256]
	{
		1.00000000000000000000000000000000,
			0.66666666666666666666666666666667,
			0.50000000000000000000000000000000,
			1.00000000000000000000000000000000,
			0.35505102572168219018027159252941,
			0.84494897427831780981972840747059,
			0.27639320225002103035908263312687,
			0.72360679774997896964091736687313,
			1.00000000000000000000000000000000,
			0.21234053823915294397475811012400,
			0.59053313555926528913507374793117,
			0.91141204048729605260445385623054,
			0.17267316464601142810085377187657,
			0.50000000000000000000000000000000,
			0.82732683535398857189914622812343,
			1.00000000000000000000000000000000,
			0.13975986434378055215208708112488,
			0.41640956763108317994330233133708,
			0.72315698636187617231995400231437,
			0.94289580388548231780687880744588,
			0.11747233803526765357449851302033,
			0.35738424175967745184292450297956,
			0.64261575824032254815707549702044,
			0.88252766196473234642550148697967,
			1.00000000000000000000000000000000,
			0.09853508579882642612349889788775,
			0.30453572664636390548538517627883,
			0.56202518975261385599498747999477,
			0.80198658212639182746420786320470,
			0.96019014294853125765919330990667,
			0.08488805186071653506398389301626,
			0.26557560326464289309811405904562,
			0.50000000000000000000000000000000,
			0.73442439673535710690188594095438,
			0.91511194813928346493601610698373,
			1.00000000000000000000000000000000,
			0.07305432868025888514812603418031,
			0.23076613796994549908311663988435,
			0.44132848122844986791860665819448,
			0.66301530971884570090294702791922,
			0.85192140033151570815002314750402,
			0.97068357284021510802794972308684,
			0.06412992574519669233127711938966,
			0.20414990928342884892774463430102,
			0.39535039104876056561567136982732,
			0.60464960895123943438432863017268,
			0.79585009071657115107225536569898,
			0.93587007425480330766872288061033,
			1.00000000000000000000000000000000,
			0.05626256053692214646565219103231,
			0.18024069173689236498757994280918,
			0.35262471711316963737390777017124,
			0.54715362633055538300144855765235,
			0.73421017721541053152321060830661,
			0.88532094683909576809035976293249,
			0.97752061356128750189117450042915,
			0.05012100229426992134382737779083,
			0.16140686024463112327705728645432,
			0.31844126808691092064462396564567,
			0.50000000000000000000000000000000,
			0.68155873191308907935537603435433,
			0.83859313975536887672294271354567,
			0.94987899770573007865617262220917,
			1.00000000000000000000000000000000,
			0.04463395528996985073312102185830,
			0.14436625704214557148521852022821,
			0.28682475714443051894868623974909,
			0.45481331519657335096772777004679,
			0.62806783541672769756914603951737,
			0.78569152060436924164245873241833,
			0.90867639210020604399625854192546,
			0.98222008485263654818679489896232,
			0.04023304591677059308553366958883,
			0.13061306744724746249844691257008,
			0.26103752509477775216941245363437,
			0.41736052116680648768689011702091,
			0.58263947883319351231310988297909,
			0.73896247490522224783058754636563,
			0.86938693255275253750155308742992,
			0.95976695408322940691446633041117,
			1.00000000000000000000000000000000,
			0.03625781288320946094116430076808,
			0.11807897878999870019228511199474,
			0.23717698481496038531730669285327,
			0.38188276530470597536077024839650,
			0.53802959891898906511685689131944,
			0.69033242007236218294037953277052,
			0.82388334383700471813682425392743,
			0.92561261029080395536408181404400,
			0.98558759035112345136717325918919,
			0.03299928479597043283386293195030,
			0.10775826316842779068879109194577,
			0.21738233650189749676451801526112,
			0.35212093220653030428404424222047,
			0.50000000000000000000000000000000,
			0.64787906779346969571595575777953,
			0.78261766349810250323548198473888,
			0.89224173683157220931120890805423,
			0.96700071520402956716613706804969,
			1.00000000000000000000000000000000,
			0.03002903216148649704306435763440,
			0.09828901220985322965120102159023,
			0.19902107896310115486205369838276,
			0.32405553832333489264284949106524,
			0.46326123428433936712690482228811,
			0.60536015311421315703804789492239,
			0.73884032399154375973394834194515,
			0.85288855035692975957240056442018,
			0.93826792812285187447737063280575,
			0.98808238656758440309025441304101,
			0.02755036388855888829620993084839,
			0.09036033917799666082567920914154,
			0.18356192348406966116879757277817,
			0.30023452951732553386782510421652,
			0.43172353357253622256796907213015,
			0.56827646642746377743203092786985,
			0.69976547048267446613217489578348,
			0.81643807651593033883120242722183,
			0.90963966082200333917432079085845,
			0.97244963611144111170379006915161,
			1.00000000000000000000000000000000,
			0.02527362039752034975333118646162,
			0.08304161344740514670686537298197,
			0.16917510037718142596943345609434,
			0.27779671510903207443667869219539,
			0.40150272023286081677227928632696,
			0.53186238691041595791688961924225,
			0.65999184208533481176639476610298,
			0.77715939295616214449216854654264,
			0.87538077485555692626470041273609,
			0.94796454887281944741645730422704,
			0.98998171953831959415697527013220,
			0.02334507667891804405154726762227,
			0.07682621767406384156703719645062,
			0.15690576545912128696362048021682,
			0.25854508945433189912653138318153,
			0.37535653494688000371566314981289,
			0.50000000000000000000000000000000,
			0.62464346505311999628433685018711,
			0.74145491054566810087346861681847,
			0.84309423454087871303637951978318,
			0.92317378232593615843296280354938,
			0.97665492332108195594845273237772,
			1.00000000000000000000000000000000,
			0.02156206316585036090809308308300,
			0.07105789873558898215118984486568,
			0.14544745623506411920978808359438,
			0.24040111047477294625739742595658,
			0.35039934972274500723370827665702,
			0.46904915068718232937106975710318,
			0.58945491879854231751096564944067,
			0.70461911573741977837708316562399,
			0.80784894547014595900894274377139,
			0.89314550911652334236589322956750,
			0.95555353684459227697453320121445,
			0.99146094501157258063133553912216,
			0.02003247736636954932244991899228,
			0.06609947308482637449988989854586,
			0.13556570045433692970766379973955,
			0.22468029853567647234168864707046,
			0.32863799332864357747804829817916,
			0.44183406555814806617061164513192,
			0.55816593444185193382938835486808,
			0.67136200667135642252195170182084,
			0.77531970146432352765831135292954,
			0.86443429954566307029233620026044,
			0.93390052691517362550011010145413,
			0.97996752263363045067755008100771,
			1.00000000000000000000000000000000,
			0.01861036501098785143971937784028,
			0.06147554089926898760236661323470,
			0.12630517869331058063228543286826,
			0.20984297172656251444713666750062,
			0.30789899828039834310295804831233,
			0.41555603597865954449577915218909,
			0.52741561399588227482490535732140,
			0.63786860271776119959131870177268,
			0.74137645929423748341020926717731,
			0.83274898860844226850447752124064,
			0.90740477530099736471710862456138,
			0.96160186126032164962316747513586,
			0.99263534897391067834930850158618,
			0.01737703674808071360207430396519,
			0.05745897788851185058729918425888,
			0.11824015502409239964794076201185,
			0.19687339726507714443823503068163,
			0.28968097264316375953905153063071,
			0.39232302231810288088716027686354,
			0.50000000000000000000000000000000,
			0.60767697768189711911283972313646,
			0.71031902735683624046094846936929,
			0.80312660273492285556176496931837,
			0.88175984497590760035205923798815,
			0.94254102211148814941270081574111,
			0.98262296325191928639792569603480,
			1.00000000000000000000000000000000,
			0.01622476590139976171877199085899,
			0.05369729993972461646659405657527,
			0.11065719118048446030912833905351,
			0.18461026055652535802692578138794,
			0.27232354711073531456397327200967,
			0.36996331162959604211551940586857,
			0.47326213866012696794627305518712,
			0.57770534269242974215959101248190,
			0.67872825601106382559765960258696,
			0.77191572935074200846535590138006,
			0.85319513231878627007633983473920,
			0.91901450031804481560754869226002,
			0.96649859546798685996403607142943,
			0.99358323920718154318917953590549,
			0.01521597686489103352387863081627,
			0.05039973345326395350268586924007,
			0.10399585406909246803445586451842,
			0.17380564855875345526605839017970,
			0.25697028905643119410905460707656,
			0.35008476554961839595082327263885,
			0.44933686323902527607848349747704,
			0.55066313676097472392151650252296,
			0.64991523445038160404917672736115,
			0.74302971094356880589094539292344,
			0.82619435144124654473394160982029,
			0.89600414593090753196554413548157,
			0.94960026654673604649731413075992,
			0.98478402313510896647612136918373,
			1.00000000000000000000000000000000,
			0.01426945473682577473409936694087,
			0.04729959009416668566195579247573,
			0.09771329932062197336876149533799,
			0.16356903939438987602444091434582,
			0.24233526096865728800292572225971,
			0.33098480497004012346130436094686,
			0.42611083909331411932854614476247,
			0.52405769153676513942741100798415,
			0.62106131135302196189347099085723,
			0.71339391374247294001597395451560,
			0.79750724494989595243178001167977,
			0.87016897444640894402874546190571,
			0.92858704688484115994521609825327,
			0.97051770135205751336835901528200,
			0.99435931102748829024249353342056,
			0.01343391168429084292151024906313,
			0.04456000204221320218809874680113,
			0.09215187438911484644662472338123,
			0.15448550968615764730254032131377,
			0.22930730033494923043813329624797,
			0.31391278321726147904638265963237,
			0.40524401324084130584786849262344,
			0.50000000000000000000000000000000,
			0.59475598675915869415213150737656,
			0.68608721678273852095361734036763,
			0.77069269966505076956186670375203,
			0.84551449031384235269745967868623,
			0.90784812561088515355337527661876,
			0.95543999795778679781190125319886,
			0.98656608831570915707848975093686,
			1.00000000000000000000000000000000
	};
}
